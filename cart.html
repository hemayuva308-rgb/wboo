<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Cart - WowBuys</title>
<style>
  body {font-family: system-ui, sans-serif; padding:20px; background:#f8f9fc;}
  h1 {margin-bottom:16px;}
  ul {list-style:none; padding:0;}
  li {
    background:#fff; margin:8px 0; padding:12px 14px;
    border-radius:10px; box-shadow:0 3px 8px rgba(0,0,0,0.08);
    display:flex; justify-content:space-between; align-items:center;
    flex-wrap:wrap;
  }
  .empty {
    text-align:center; padding:20px; color:#666; font-style:italic;
  }
  .remove {
    background:#ff47c2; color:#fff; border:none;
    padding:6px 12px; border-radius:8px; cursor:pointer;
    transition:0.2s;
  }
  .remove:hover {opacity:.85; transform:scale(1.05);}
  .total {
    margin-top:18px; font-size:18px; font-weight:700;
    text-align:right;
  }
</style>
</head>
<body>
  <h1>Your Cart</h1>
  <ul id="cartList"></ul>
  <div class="total" id="total"></div>

  <script>
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    const ul = document.getElementById("cartList");
    const totalEl = document.getElementById("total");

    function renderCart() {
      ul.innerHTML = "";
      let total = 0;

      if (cart.length === 0) {
        ul.innerHTML = <li class="empty">Cart is empty ðŸ›’</li>;
        totalEl.textContent = "Total: â‚¹0";
        return;
      }

      cart.forEach((p, index) => {
        let price = Number(p.price) || 0;
        let qty = p.qty || 1;
        total += price * qty;

        const li = document.createElement("li");
        li.innerHTML = `
          <span>${p.name} (x${qty}) â€“ â‚¹${(price * qty).toLocaleString()}</span>
          <button class="remove" data-index="${index}">Remove</button>
        `;
        ul.appendChild(li);
      });

      totalEl.textContent = "Total: â‚¹" + total.toLocaleString();
    }

    // Remove handler (event delegation)
    ul.addEventListener("click", e => {
      if (e.target.classList.contains("remove")) {
        const i = e.target.dataset.index;
        cart.splice(i, 1);
        localStorage.setItem("cart", JSON.stringify(cart));
        renderCart();
      }
    });

    renderCart();
  </script>
</body>
</html>